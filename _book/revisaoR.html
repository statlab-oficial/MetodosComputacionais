<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR" xml:lang="pt-BR"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Laboratório de Inovação em Estatística - StatLab">

<title>Métodos Computacionais - 2&nbsp; Uma pequena introdução ao R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./intro.html" rel="next">
<link href="./introducao.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./revisaoR.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uma pequena introdução ao R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Métodos Computacionais</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Procurar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefácio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introducao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./revisaoR.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uma pequena introdução ao R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Motivação</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Números Uniformes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referências</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"><span class="header-section-number">2.1</span> Introdução</a></li>
  <li><a href="#instalação" id="toc-instalação" class="nav-link" data-scroll-target="#instalação">Instalação</a>
  <ul class="collapse">
  <li><a href="#windows" id="toc-windows" class="nav-link" data-scroll-target="#windows">Windows</a></li>
  <li><a href="#macos" id="toc-macos" class="nav-link" data-scroll-target="#macos">macOS</a></li>
  <li><a href="#linux" id="toc-linux" class="nav-link" data-scroll-target="#linux">Linux</a></li>
  </ul></li>
  <li><a href="#o-que-é-o-r" id="toc-o-que-é-o-r" class="nav-link" data-scroll-target="#o-que-é-o-r"><span class="header-section-number">2.2</span> O que é o <code>R</code></a></li>
  <li><a href="#números-aritmética-atribuição-e-vetores" id="toc-números-aritmética-atribuição-e-vetores" class="nav-link" data-scroll-target="#números-aritmética-atribuição-e-vetores"><span class="header-section-number">2.3</span> Números, Aritmética, Atribuição e Vetores</a>
  <ul class="collapse">
  <li><a href="#exercícios" id="toc-exercícios" class="nav-link" data-scroll-target="#exercícios">Exercícios</a></li>
  </ul></li>
  <li><a href="#matrizes" id="toc-matrizes" class="nav-link" data-scroll-target="#matrizes"><span class="header-section-number">2.4</span> Matrizes</a>
  <ul class="collapse">
  <li><a href="#exercícios-1" id="toc-exercícios-1" class="nav-link" data-scroll-target="#exercícios-1">Exercícios</a></li>
  </ul></li>
  <li><a href="#operações-com-matrizes" id="toc-operações-com-matrizes" class="nav-link" data-scroll-target="#operações-com-matrizes"><span class="header-section-number">2.5</span> Operações com matrizes</a>
  <ul class="collapse">
  <li><a href="#exercícios-2" id="toc-exercícios-2" class="nav-link" data-scroll-target="#exercícios-2">Exercícios</a></li>
  </ul></li>
  <li><a href="#laços-e-repetições" id="toc-laços-e-repetições" class="nav-link" data-scroll-target="#laços-e-repetições"><span class="header-section-number">2.6</span> Laços e repetições</a></li>
  <li><a href="#escrevendo-funções-no-r" id="toc-escrevendo-funções-no-r" class="nav-link" data-scroll-target="#escrevendo-funções-no-r"><span class="header-section-number">2.7</span> Escrevendo funções no <code>R</code></a>
  <ul class="collapse">
  <li><a href="#média-aritmética" id="toc-média-aritmética" class="nav-link" data-scroll-target="#média-aritmética"><span class="header-section-number">2.7.1</span> Média Aritmética</a></li>
  <li><a href="#mediana" id="toc-mediana" class="nav-link" data-scroll-target="#mediana"><span class="header-section-number">2.7.2</span> Mediana</a></li>
  <li><a href="#exercícios-3" id="toc-exercícios-3" class="nav-link" data-scroll-target="#exercícios-3">Exercícios</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uma pequena introdução ao R</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introdução" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">2.1</span> Introdução</h2>
<p>O <code>R</code> é peça-chave em inúmeros trabalhos de pesquisa e análise de dados porque reúne, de forma prática, um conjunto amplo de técnicas estatísticas atuais, das mais básicas às mais sofisticadas, e facilita seu uso no dia a dia. Quem começa no <code>R</code>, porém, muitas vezes também está dando os primeiros passos em programação. Assim, além de aprender as ferramentas do <code>R</code> para seus objetivos, é preciso desenvolver a “cabeça” de programador. Essa fase inicial ajuda a explicar a fama de que o <code>R</code> é “difícil”. Mesmo assim, com prática e uma boa orientação, ele se revela bem mais acessível do que parece.</p>
</section>
<section id="instalação" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="instalação">Instalação</h2>
<p>Este guia mostra como <strong>baixar e instalar o <code>R</code> a partir do CRAN</strong> (Comprehensive R Archive Network), com orientações específicas para <strong>Windows</strong>, <strong>macOS</strong> e <strong>Linux</strong>. Ao final, você testará a instalação e configurará um <strong>espelho (mirror) brasileiro</strong> para baixar pacotes mais rápido.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>O que é o CRAN?</strong><br>
É a rede oficial de servidores que distribui o <code>R</code> e seus pacotes. Você pode usar o endereço inteligente <a href="https://cloud.r-project.org">https://cloud.r-project.org</a> ou definir um espelho no Brasil (ex.: C3SL/UFPR).</p>
</div>
</div>
<p>Você pode simplesmente usar:</p>
<ul>
<li><p><strong>Cloud CRAN (recomendado):</strong> <a href="https://cloud.r-project.org">https://cloud.r-project.org</a> (redireciona para um espelho próximo).</p></li>
<li><p><strong>Brasil (ex.: UFPR/C3SL):</strong> <a href="https://cran-r.c3sl.ufpr.br">https://cran-r.c3sl.ufpr.br</a></p></li>
</ul>
<p>Mais adiante, mostraremos como fixar o mirror no <code>R</code> permanentemente.</p>
<section id="windows" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="windows">Windows</h3>
<ol type="1">
<li><p>Acesse a página <strong>Download <code>R</code> for Windows</strong> → <strong>base</strong> e baixe o instalador.</p></li>
<li><p>Execute o instalador e avance com as opções padrão (recomendado para iniciantes).</p></li>
<li><p>(Opcional) Se pretende <strong>compilar pacotes a partir do código-fonte</strong>, instale o <strong>Rtools</strong> compatível com a sua versão do <code>R</code>.</p></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Rtools:</strong> após instalar, reinicie o R/RStudio. Em geral, o Rtools adiciona as ferramentas ao <em>PATH</em> automaticamente.</p>
</div>
</div>
</section>
<section id="macos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="macos">macOS</h3>
<ol type="1">
<li><p>Acesse <strong><code>R</code> for macOS</strong> no CRAN e baixe o arquivo <code>.pkg</code> da versão atual.</p></li>
<li><p>Abra o <code>.pkg</code> e conclua a instalação.</p></li>
<li><p>(Opcional) Para compilar pacotes, instale também as <strong>Command Line Tools</strong> do Xcode:</p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">xcode-select</span> <span class="at">--install</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="linux" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="linux">Linux</h3>
<p><strong>Ubuntu/Debian</strong></p>
<p>Opção rápida (repositório da distribuição):</p>
<pre><code>sudo apt update
sudo apt install -y r-base</code></pre>
<p>Para obter versões mais novas (repositório do CRAN), siga as instruções do CRAN para adicionar o repositório oficial e então:</p>
<pre><code>sudo apt update
sudo apt install -y r-base r-base-dev</code></pre>
<p><strong>Verificar a instalação</strong></p>
<p>No terminal/Prompt:</p>
<pre><code>R --version
R</code></pre>
<p>Dentro do R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>version</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               _                           
platform       x86_64-pc-linux-gnu         
arch           x86_64                      
os             linux-gnu                   
system         x86_64, linux-gnu           
status                                     
major          4                           
minor          5.1                         
year           2025                        
month          06                          
day            13                          
svn rev        88306                       
language       R                           
version.string R version 4.5.1 (2025-06-13)
nickname       Great Square Root           </code></pre>
</div>
</div>
<p>Se o <code>R</code> abriu no console, a instalação está ok!</p>
<p><strong>Teste rápido de pacotes</strong></p>
<p>No R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("tidyverse")   # teste de instalação/espelho</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   4.0.0     ✔ tibble    3.3.0
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">y =</span> x<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
      x     y
  &lt;int&gt; &lt;dbl&gt;
1     1     1
2     2     4
3     3     9
4     4    16
5     5    25</code></pre>
</div>
</div>
<p>Se o pacote instalou e carregou sem erros, está tudo certo.</p>
<section id="fixar-um-mirror-brasileiro-do-cran" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="fixar-um-mirror-brasileiro-do-cran">Fixar um mirror brasileiro do CRAN</h4>
<p>Defina o espelho apenas nesta sessão:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(<span class="at">CRAN =</span> <span class="st">"https://cran-r.c3sl.ufpr.br"</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para tornar <strong>permanente</strong>, adicione a linha abaixo ao seu arquivo <code>~/.Rprofile</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(<span class="at">CRAN =</span> <span class="st">"https://cloud.r-project.org"</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ou, se preferir, o espelho da UFPR:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># options(repos = c(CRAN = "https://cran-r.c3sl.ufpr.br"))</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="como-editar-o-.rprofile" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="como-editar-o-.rprofile">Como editar o <code>~/.Rprofile</code></h4>
<ul>
<li>Linux/macOS:</li>
</ul>
<pre><code>echo 'options(repos = c(CRAN = "https://cloud.r-project.org"))' &gt;&gt; ~/.Rprofile</code></pre>
<ul>
<li>Windows: o <code>~</code> normalmente aponta para <code>C:\\Users\\SEU_USUARIO\\Documents</code>.</li>
</ul>
<p>Você pode criar/editar <code>C:\\Users\\SEU_USUARIO\\Documents\\.Rprofile</code> com um editor de texto.</p>
</section>
<section id="opcional-ide-recomendada-rstudio" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="opcional-ide-recomendada-rstudio">(Opcional) IDE recomendada: RStudio</h4>
<p>Após instalar o <code>R</code>, instale o <code>RStudio Desktop</code> (Posit) para um ambiente de desenvolvimento mais amigável:</p>
<ul>
<li><p>Criação/edição de scripts</p></li>
<li><p>Gerenciamento de projetos</p></li>
<li><p>Visualização de plots e help integrados</p></li>
</ul>
</section>
<section id="dicas-e-solução-de-problemas" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="dicas-e-solução-de-problemas">Dicas e solução de problemas</h4>
<ul>
<li><p><strong>Permissões de administrador:</strong> em ambientes corporativos, pode ser necessário pedir para TI instalar o <code>R</code>.</p></li>
<li><p><strong>Firewall/Proxy:</strong> se a instalação de pacotes falhar, verifique configurações de proxy e tente trocar o mirror.</p></li>
<li><p><strong>Compatibilidade de versões:</strong> ao compilar pacotes, garanta que as ferramentas (Rtools no Windows; CLT/Xcode no macOS) correspondam à sua versão do <code>R</code>.</p></li>
<li><p>Atualização do <code>R</code>: ao atualizar o <code>R</code>, alguns pacotes precisarão ser reinstalados; use <code>install.packages()</code> novamente.</p></li>
<li><p><strong>Testes mínimos:</strong></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.5.1 (2025-06-13)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.3 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0

locale:
 [1] LC_CTYPE=pt_BR.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=pt_BR.UTF-8        LC_COLLATE=pt_BR.UTF-8    
 [5] LC_MONETARY=pt_BR.UTF-8    LC_MESSAGES=pt_BR.UTF-8   
 [7] LC_PAPER=pt_BR.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=pt_BR.UTF-8 LC_IDENTIFICATION=C       

time zone: America/Fortaleza
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] lubridate_1.9.3 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    
 [5] purrr_1.0.2     readr_2.1.5     tidyr_1.3.1     tibble_3.3.0   
 [9] ggplot2_4.0.0   tidyverse_2.0.0

loaded via a namespace (and not attached):
 [1] gtable_0.3.6       jsonlite_1.8.8     compiler_4.5.1     tidyselect_1.2.1  
 [5] dichromat_2.0-0.1  scales_1.4.0       yaml_2.3.8         fastmap_1.1.1     
 [9] R6_2.6.1           generics_0.1.3     knitr_1.50         htmlwidgets_1.6.4 
[13] pillar_1.11.0      RColorBrewer_1.1-3 tzdb_0.4.0         rlang_1.1.6       
[17] stringi_1.8.3      xfun_0.53          S7_0.2.0           timechange_0.3.0  
[21] cli_3.6.5          withr_3.0.2        magrittr_2.0.3     digest_0.6.34     
[25] grid_4.5.1         rstudioapi_0.15.0  hms_1.1.3          lifecycle_1.0.4   
[29] vctrs_0.6.5        evaluate_1.0.5     glue_1.8.0         farver_2.1.2      
[33] rmarkdown_2.29     tools_4.5.1        pkgconfig_2.0.3    htmltools_0.5.8.1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">capabilities</span>()  <span class="co"># checa recursos gráficos, etc.</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       jpeg         png        tiff       tcltk         X11        aqua 
       TRUE        TRUE        TRUE        TRUE       FALSE       FALSE 
   http/ftp     sockets      libxml        fifo      cledit       iconv 
       TRUE        TRUE       FALSE        TRUE       FALSE        TRUE 
        NLS       Rprof     profmem       cairo         ICU long.double 
       TRUE        TRUE        TRUE        TRUE        TRUE        TRUE 
    libcurl 
       TRUE </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="o-que-é-o-r" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="o-que-é-o-r"><span class="header-section-number">2.2</span> O que é o <code>R</code></h2>
<p><code>R</code> é uma implementação moderna da linguagem <code>S</code>, voltada à computação estatística e à visualização de dados. Ele reúne, no mesmo lugar, um ambiente interativo para análise e criação de gráficos e uma linguagem de programação completa.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Em uma frase:</strong> R é um ambiente estatístico + uma linguagem, criada para trabalhar bem com dados, gráficos e métodos modernos.</p>
</div>
</div>
<section id="principais-características" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="principais-características">Principais características</h4>
<ul>
<li><p><strong>Interativo e interpretado</strong>, com suporte a <strong>JIT/bytecode</strong> via pacote <code>compiler</code>.</p></li>
<li><p><strong>Orientado a objetos</strong> (S3, S4 e R6) e com forte base <strong>funcional</strong>.</p></li>
<li><p><strong>Modelo “tudo é objeto”</strong>: números, vetores, data frames, funções, ambientes e modelos ajustados.</p></li>
<li><p><strong>Vetorização nativa</strong> e operações matriciais eficientes.</p></li>
<li><p><strong>Ecossistema de pacotes</strong> amplo (CRAN, Bioconductor) para estatística e ciência de dados.</p></li>
<li><p><strong>Extensível</strong> com C/C++/Fortran e integração com Python, SQL e serviços externos.</p></li>
<li><p><strong>Multiplataforma</strong> (Windows, macOS, Linux) e foco em <strong>reprodutibilidade</strong> (scripts, Quarto/R Markdown).</p></li>
</ul>
</section>
<section id="exemplo---tudo-é-objeto" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="exemplo---tudo-é-objeto">Exemplo - “tudo é objeto”</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>               <span class="co"># vetor (objeto)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>media <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)       <span class="co"># função aplicada ao objeto</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(z) z<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>classe_f <span class="ot">&lt;-</span> <span class="fu">class</span>(f)   <span class="co"># "function" — funções também são objetos</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"nota"</span>) <span class="ot">&lt;-</span> <span class="st">"exemplo de atributo"</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> x, <span class="at">media =</span> media, <span class="at">classe_f =</span> classe_f)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(lista)             <span class="co"># inspeciona a estrutura</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ x       : int [1:5] 1 2 3 4 5
  ..- attr(*, "nota")= chr "exemplo de atributo"
 $ media   : num 3
 $ classe_f: chr "function"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>lista</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$x
[1] 1 2 3 4 5
attr(,"nota")
[1] "exemplo de atributo"

$media
[1] 3

$classe_f
[1] "function"</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dica: use <code>str(obj)</code> para entender a estrutura de qualquer objeto no <code>R</code>.</p>
<p>Outras funções úteis: <code>class()</code>, <code>attributes()</code>, <code>typeof()</code>, <code>methods(class = ...)</code>.</p>
</div>
</div>
<p>Aqui vai como mudar o <em>prompt</em> do <code>R</code> para <code>R&gt;</code>, na sessão atual usando:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">prompt =</span> <span class="st">"R&gt; "</span>, <span class="at">continue =</span> <span class="st">"+"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para adicionar comentários no <code>R</code>, como você observou nos exemplos acima, basta usar <code>#</code>, como no exemplo abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Este é um comentário! </span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Que o semestre seja leve para todos nós!</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Uma sessão ativa do <code>R</code> sempre está “apontando” para um diretório de trabalho. Se você não informar um caminho completo ao salvar ou importar arquivos, o <code>R</code> usará esse diretório por padrão. Para descobrir onde ele está:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/manoel/Documentos/Book_Computacional_UFC"</code></pre>
</div>
</div>
<p>Se você deseja modificar o diretório de trabalho, isso pode ser feito de maneira simples:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Windows</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/SeuUsuario/Documents/meu-projeto"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># macOS / Linux</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/seuusuario/meu-projeto"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O <code>R</code> não vem com todos os pacotes adicionais que a comunidade desenvolve. Para usá-los, você precisa baixar e instalar a partir de um repositório, em geral, o CRAN.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define um espelho (mirror) do CRAN para esta sessão</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(<span class="at">CRAN =</span> <span class="st">"https://cloud.r-project.org"</span>))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># instala um ou mais pacotes</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"ggplot2"</span>, <span class="st">"dplyr"</span>, <span class="st">"readr"</span>))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co"># carrega para usar</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A instalação pode ser feita também facilmente usando o <code>RStudio</code>.</p>
<p>Pacotes da comunidade são atualizados com frequência para corrigir erros e acrescentar recursos. Periodicamente, vale checar se há novas versões para o que você já tem instalado. A partir do console do <code>R</code>, você pode verificar e atualizar com um único comando.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defina um mirror (opcional, mas recomendável)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(<span class="at">CRAN =</span> <span class="st">"https://cloud.r-project.org"</span>))</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># procura versões mais novas e atualiza automaticamente</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">ask =</span> <span class="cn">FALSE</span>, <span class="at">checkBuilt =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>ask = FALSE</code> atualiza sem perguntar pacote a pacote.</p></li>
<li><p><code>checkBuilt = TRUE</code> recompila pacotes se sua versão do <code>R</code> mudou.</p></li>
</ul>
<p><strong>Ver o que está desatualizado antes:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">old.packages</span>()  <span class="co"># retorna uma tabela com pacotes que têm versão mais nova</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Package         LibPath                                         
ggiraph       "ggiraph"       "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
ggplotify     "ggplotify"     "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
ggsci         "ggsci"         "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
gt            "gt"            "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
pillar        "pillar"        "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
pkgload       "pkgload"       "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
rmarkdown     "rmarkdown"     "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
terra         "terra"         "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
V8            "V8"            "/home/manoel/R/x86_64-pc-linux-gnu-library/4.5"
askpass       "askpass"       "/usr/lib/R/site-library"                       
backports     "backports"     "/usr/lib/R/site-library"                       
bit           "bit"           "/usr/lib/R/site-library"                       
bit64         "bit64"         "/usr/lib/R/site-library"                       
broom         "broom"         "/usr/lib/R/site-library"                       
bslib         "bslib"         "/usr/lib/R/site-library"                       
cachem        "cachem"        "/usr/lib/R/site-library"                       
callr         "callr"         "/usr/lib/R/site-library"                       
cli           "cli"           "/usr/lib/R/site-library"                       
colorspace    "colorspace"    "/usr/lib/R/site-library"                       
commonmark    "commonmark"    "/usr/lib/R/site-library"                       
cpp11         "cpp11"         "/usr/lib/R/site-library"                       
crayon        "crayon"        "/usr/lib/R/site-library"                       
curl          "curl"          "/usr/lib/R/site-library"                       
data.table    "data.table"    "/usr/lib/R/site-library"                       
DBI           "DBI"           "/usr/lib/R/site-library"                       
dbplyr        "dbplyr"        "/usr/lib/R/site-library"                       
digest        "digest"        "/usr/lib/R/site-library"                       
dtplyr        "dtplyr"        "/usr/lib/R/site-library"                       
evaluate      "evaluate"      "/usr/lib/R/site-library"                       
fansi         "fansi"         "/usr/lib/R/site-library"                       
farver        "farver"        "/usr/lib/R/site-library"                       
fastmap       "fastmap"       "/usr/lib/R/site-library"                       
fontawesome   "fontawesome"   "/usr/lib/R/site-library"                       
forcats       "forcats"       "/usr/lib/R/site-library"                       
fs            "fs"            "/usr/lib/R/site-library"                       
gargle        "gargle"        "/usr/lib/R/site-library"                       
generics      "generics"      "/usr/lib/R/site-library"                       
ggplot2       "ggplot2"       "/usr/lib/R/site-library"                       
glue          "glue"          "/usr/lib/R/site-library"                       
googledrive   "googledrive"   "/usr/lib/R/site-library"                       
googlesheets4 "googlesheets4" "/usr/lib/R/site-library"                       
gtable        "gtable"        "/usr/lib/R/site-library"                       
haven         "haven"         "/usr/lib/R/site-library"                       
highr         "highr"         "/usr/lib/R/site-library"                       
htmltools     "htmltools"     "/usr/lib/R/site-library"                       
httpuv        "httpuv"        "/usr/lib/R/site-library"                       
jsonlite      "jsonlite"      "/usr/lib/R/site-library"                       
knitr         "knitr"         "/usr/lib/R/site-library"                       
later         "later"         "/usr/lib/R/site-library"                       
lubridate     "lubridate"     "/usr/lib/R/site-library"                       
magrittr      "magrittr"      "/usr/lib/R/site-library"                       
mime          "mime"          "/usr/lib/R/site-library"                       
munsell       "munsell"       "/usr/lib/R/site-library"                       
openssl       "openssl"       "/usr/lib/R/site-library"                       
pillar        "pillar"        "/usr/lib/R/site-library"                       
pkgKitten     "pkgKitten"     "/usr/lib/R/site-library"                       
processx      "processx"      "/usr/lib/R/site-library"                       
promises      "promises"      "/usr/lib/R/site-library"                       
ps            "ps"            "/usr/lib/R/site-library"                       
purrr         "purrr"         "/usr/lib/R/site-library"                       
R6            "R6"            "/usr/lib/R/site-library"                       
ragg          "ragg"          "/usr/lib/R/site-library"                       
Rcpp          "Rcpp"          "/usr/lib/R/site-library"                       
readxl        "readxl"        "/usr/lib/R/site-library"                       
reprex        "reprex"        "/usr/lib/R/site-library"                       
rlang         "rlang"         "/usr/lib/R/site-library"                       
rmarkdown     "rmarkdown"     "/usr/lib/R/site-library"                       
rstudioapi    "rstudioapi"    "/usr/lib/R/site-library"                       
rvest         "rvest"         "/usr/lib/R/site-library"                       
sass          "sass"          "/usr/lib/R/site-library"                       
scales        "scales"        "/usr/lib/R/site-library"                       
shiny         "shiny"         "/usr/lib/R/site-library"                       
stringi       "stringi"       "/usr/lib/R/site-library"                       
stringr       "stringr"       "/usr/lib/R/site-library"                       
sys           "sys"           "/usr/lib/R/site-library"                       
systemfonts   "systemfonts"   "/usr/lib/R/site-library"                       
textshaping   "textshaping"   "/usr/lib/R/site-library"                       
tibble        "tibble"        "/usr/lib/R/site-library"                       
tidyselect    "tidyselect"    "/usr/lib/R/site-library"                       
tinytex       "tinytex"       "/usr/lib/R/site-library"                       
tzdb          "tzdb"          "/usr/lib/R/site-library"                       
utf8          "utf8"          "/usr/lib/R/site-library"                       
uuid          "uuid"          "/usr/lib/R/site-library"                       
vroom         "vroom"         "/usr/lib/R/site-library"                       
withr         "withr"         "/usr/lib/R/site-library"                       
xfun          "xfun"          "/usr/lib/R/site-library"                       
xml2          "xml2"          "/usr/lib/R/site-library"                       
yaml          "yaml"          "/usr/lib/R/site-library"                       
boot          "boot"          "/usr/lib/R/library"                            
lattice       "lattice"       "/usr/lib/R/library"                            
mgcv          "mgcv"          "/usr/lib/R/library"                            
spatial       "spatial"       "/usr/lib/R/library"                            
              Installed Built   ReposVer 
ggiraph       "0.9.0"   "4.5.1" "0.9.1"  
ggplotify     "0.1.2"   "4.5.0" "0.1.3"  
ggsci         "3.2.0"   "4.5.0" "4.0.0"  
gt            "1.0.0"   "4.5.1" "1.1.0"  
pillar        "1.11.0"  "4.5.1" "1.11.1" 
pkgload       "1.4.0"   "4.5.1" "1.4.1"  
rmarkdown     "2.29"    "4.5.1" "2.30"   
terra         "1.8-60"  "4.5.1" "1.8-70" 
V8            "7.0.0"   "4.5.1" "8.0.0"  
askpass       "1.2.0"   "4.3.1" "1.2.1"  
backports     "1.4.1"   "4.1.2" "1.5.0"  
bit           "4.0.5"   "4.2.2" "4.6.0"  
bit64         "4.0.5"   "4.0.2" "4.6.0-1"
broom         "1.0.5"   "4.3.0" "1.0.10" 
bslib         "0.6.1"   "4.3.2" "0.9.0"  
cachem        "1.0.8"   "4.3.0" "1.1.0"  
callr         "3.7.5"   "4.3.3" "3.7.6"  
cli           "3.6.2"   "4.3.2" "3.6.5"  
colorspace    "2.1-0"   "4.2.2" "2.1-2"  
commonmark    "1.9.1"   "4.3.2" "2.0.0"  
cpp11         "0.4.7"   "4.3.2" "0.5.2"  
crayon        "1.5.2"   "4.2.2" "1.5.3"  
curl          "5.2.0"   "4.3.3" "7.0.0"  
data.table    "1.14.10" "4.3.2" "1.17.8" 
DBI           "1.2.2"   "4.3.2" "1.2.3"  
dbplyr        "2.4.0"   "4.3.2" "2.5.1"  
digest        "0.6.34"  "4.3.2" "0.6.37" 
dtplyr        "1.3.1"   "4.3.0" "1.3.2"  
evaluate      "0.23"    "4.3.2" "1.0.5"  
fansi         "1.0.5"   "4.3.2" "1.0.6"  
farver        "2.1.1"   "4.2.1" "2.1.2"  
fastmap       "1.1.1"   "4.2.2" "1.2.0"  
fontawesome   "0.5.2"   "4.3.1" "0.5.3"  
forcats       "1.0.0"   "4.2.2" "1.0.1"  
fs            "1.6.3"   "4.3.3" "1.6.6"  
gargle        "1.5.2"   "4.3.1" "1.6.0"  
generics      "0.1.3"   "4.2.1" "0.1.4"  
ggplot2       "3.4.4"   "4.3.1" "4.0.0"  
glue          "1.7.0"   "4.3.2" "1.8.0"  
googledrive   "2.1.1"   "4.3.1" "2.1.2"  
googlesheets4 "1.1.1"   "4.3.1" "1.1.2"  
gtable        "0.3.4"   "4.3.1" "0.3.6"  
haven         "2.5.4"   "4.3.2" "2.5.5"  
highr         "0.10"    "4.2.2" "0.11"   
htmltools     "0.5.7"   "4.3.2" "0.5.8.1"
httpuv        "1.6.14"  "4.3.3" "1.6.16" 
jsonlite      "1.8.8"   "4.3.2" "2.0.0"  
knitr         "1.45"    "4.3.2" "1.50"   
later         "1.3.2"   "4.3.2" "1.4.4"  
lubridate     "1.9.3"   "4.3.1" "1.9.4"  
magrittr      "2.0.3"   "4.1.2" "2.0.4"  
mime          "0.12"    "4.1.1" "0.13"   
munsell       "0.5.0"   "4.0.1" "0.5.1"  
openssl       "2.1.1"   "4.3.3" "2.3.3"  
pillar        "1.9.0"   "4.3.0" "1.11.1" 
pkgKitten     "0.2.3"   "4.2.2" "0.2.4"  
processx      "3.8.3"   "4.3.2" "3.8.6"  
promises      "1.2.1"   "4.3.1" "1.3.3"  
ps            "1.7.6"   "4.3.2" "1.9.1"  
purrr         "1.0.2"   "4.3.1" "1.1.0"  
R6            "2.5.1"   "4.1.1" "2.6.1"  
ragg          "1.2.7"   "4.3.3" "1.5.0"  
Rcpp          "1.0.12"  "4.3.2" "1.1.0"  
readxl        "1.4.3"   "4.3.1" "1.4.5"  
reprex        "2.1.0"   "4.3.2" "2.1.1"  
rlang         "1.1.3"   "4.3.2" "1.1.6"  
rmarkdown     "2.25"    "4.3.2" "2.30"   
rstudioapi    "0.15.0"  "4.3.1" "0.17.1" 
rvest         "1.0.3"   "4.2.1" "1.0.5"  
sass          "0.4.8"   "4.3.2" "0.4.10" 
scales        "1.3.0"   "4.3.2" "1.4.0"  
shiny         "1.8.0"   "4.3.2" "1.11.1" 
stringi       "1.8.3"   "4.3.2" "1.8.7"  
stringr       "1.5.1"   "4.3.2" "1.5.2"  
sys           "3.4.2"   "4.3.1" "3.4.3"  
systemfonts   "1.0.5"   "4.3.1" "1.2.3"  
textshaping   "0.3.7"   "4.3.1" "1.0.3"  
tibble        "3.2.1"   "4.3.1" "3.3.0"  
tidyselect    "1.2.0"   "4.2.2" "1.2.1"  
tinytex       "0.49"    "4.3.2" "0.57"   
tzdb          "0.4.0"   "4.3.1" "0.5.0"  
utf8          "1.2.4"   "4.3.1" "1.2.6"  
uuid          "1.2-0"   "4.3.2" "1.2-1"  
vroom         "1.6.5"   "4.3.2" "1.6.6"  
withr         "2.5.0"   "4.1.2" "3.0.2"  
xfun          "0.41"    "4.3.2" "0.53"   
xml2          "1.3.6"   "4.3.2" "1.4.0"  
yaml          "2.3.8"   "4.3.2" "2.3.10" 
boot          "1.3-31"  "4.4.2" "1.3-32" 
lattice       "0.22-5"  "4.3.3" "0.22-7" 
mgcv          "1.9-1"   "4.3.2" "1.9-3"  
spatial       "7.3-17"  "4.4.0" "7.3-18" 
              Repository                               
ggiraph       "https://cloud.r-project.org/src/contrib"
ggplotify     "https://cloud.r-project.org/src/contrib"
ggsci         "https://cloud.r-project.org/src/contrib"
gt            "https://cloud.r-project.org/src/contrib"
pillar        "https://cloud.r-project.org/src/contrib"
pkgload       "https://cloud.r-project.org/src/contrib"
rmarkdown     "https://cloud.r-project.org/src/contrib"
terra         "https://cloud.r-project.org/src/contrib"
V8            "https://cloud.r-project.org/src/contrib"
askpass       "https://cloud.r-project.org/src/contrib"
backports     "https://cloud.r-project.org/src/contrib"
bit           "https://cloud.r-project.org/src/contrib"
bit64         "https://cloud.r-project.org/src/contrib"
broom         "https://cloud.r-project.org/src/contrib"
bslib         "https://cloud.r-project.org/src/contrib"
cachem        "https://cloud.r-project.org/src/contrib"
callr         "https://cloud.r-project.org/src/contrib"
cli           "https://cloud.r-project.org/src/contrib"
colorspace    "https://cloud.r-project.org/src/contrib"
commonmark    "https://cloud.r-project.org/src/contrib"
cpp11         "https://cloud.r-project.org/src/contrib"
crayon        "https://cloud.r-project.org/src/contrib"
curl          "https://cloud.r-project.org/src/contrib"
data.table    "https://cloud.r-project.org/src/contrib"
DBI           "https://cloud.r-project.org/src/contrib"
dbplyr        "https://cloud.r-project.org/src/contrib"
digest        "https://cloud.r-project.org/src/contrib"
dtplyr        "https://cloud.r-project.org/src/contrib"
evaluate      "https://cloud.r-project.org/src/contrib"
fansi         "https://cloud.r-project.org/src/contrib"
farver        "https://cloud.r-project.org/src/contrib"
fastmap       "https://cloud.r-project.org/src/contrib"
fontawesome   "https://cloud.r-project.org/src/contrib"
forcats       "https://cloud.r-project.org/src/contrib"
fs            "https://cloud.r-project.org/src/contrib"
gargle        "https://cloud.r-project.org/src/contrib"
generics      "https://cloud.r-project.org/src/contrib"
ggplot2       "https://cloud.r-project.org/src/contrib"
glue          "https://cloud.r-project.org/src/contrib"
googledrive   "https://cloud.r-project.org/src/contrib"
googlesheets4 "https://cloud.r-project.org/src/contrib"
gtable        "https://cloud.r-project.org/src/contrib"
haven         "https://cloud.r-project.org/src/contrib"
highr         "https://cloud.r-project.org/src/contrib"
htmltools     "https://cloud.r-project.org/src/contrib"
httpuv        "https://cloud.r-project.org/src/contrib"
jsonlite      "https://cloud.r-project.org/src/contrib"
knitr         "https://cloud.r-project.org/src/contrib"
later         "https://cloud.r-project.org/src/contrib"
lubridate     "https://cloud.r-project.org/src/contrib"
magrittr      "https://cloud.r-project.org/src/contrib"
mime          "https://cloud.r-project.org/src/contrib"
munsell       "https://cloud.r-project.org/src/contrib"
openssl       "https://cloud.r-project.org/src/contrib"
pillar        "https://cloud.r-project.org/src/contrib"
pkgKitten     "https://cloud.r-project.org/src/contrib"
processx      "https://cloud.r-project.org/src/contrib"
promises      "https://cloud.r-project.org/src/contrib"
ps            "https://cloud.r-project.org/src/contrib"
purrr         "https://cloud.r-project.org/src/contrib"
R6            "https://cloud.r-project.org/src/contrib"
ragg          "https://cloud.r-project.org/src/contrib"
Rcpp          "https://cloud.r-project.org/src/contrib"
readxl        "https://cloud.r-project.org/src/contrib"
reprex        "https://cloud.r-project.org/src/contrib"
rlang         "https://cloud.r-project.org/src/contrib"
rmarkdown     "https://cloud.r-project.org/src/contrib"
rstudioapi    "https://cloud.r-project.org/src/contrib"
rvest         "https://cloud.r-project.org/src/contrib"
sass          "https://cloud.r-project.org/src/contrib"
scales        "https://cloud.r-project.org/src/contrib"
shiny         "https://cloud.r-project.org/src/contrib"
stringi       "https://cloud.r-project.org/src/contrib"
stringr       "https://cloud.r-project.org/src/contrib"
sys           "https://cloud.r-project.org/src/contrib"
systemfonts   "https://cloud.r-project.org/src/contrib"
textshaping   "https://cloud.r-project.org/src/contrib"
tibble        "https://cloud.r-project.org/src/contrib"
tidyselect    "https://cloud.r-project.org/src/contrib"
tinytex       "https://cloud.r-project.org/src/contrib"
tzdb          "https://cloud.r-project.org/src/contrib"
utf8          "https://cloud.r-project.org/src/contrib"
uuid          "https://cloud.r-project.org/src/contrib"
vroom         "https://cloud.r-project.org/src/contrib"
withr         "https://cloud.r-project.org/src/contrib"
xfun          "https://cloud.r-project.org/src/contrib"
xml2          "https://cloud.r-project.org/src/contrib"
yaml          "https://cloud.r-project.org/src/contrib"
boot          "https://cloud.r-project.org/src/contrib"
lattice       "https://cloud.r-project.org/src/contrib"
mgcv          "https://cloud.r-project.org/src/contrib"
spatial       "https://cloud.r-project.org/src/contrib"</code></pre>
</div>
</div>
<p><strong>Atualizar apenas alguns pacotes:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">oldPkgs =</span> <span class="fu">c</span>(<span class="st">"gamlss"</span>, <span class="st">"ggmap"</span>), <span class="at">ask =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O <code>R</code> traz um conjunto amplo de arquivos de ajuda que permitem:</p>
<ul>
<li><p>Buscar funcionalidades por nome ou por tema.</p></li>
<li><p>Entender como usar uma função e quais argumentos ela recebe.</p></li>
<li><p>Esclarecer o papel de cada argumento e o que a função retorna.</p></li>
<li><p>Ver exemplos de uso prontos para rodar.</p></li>
<li><p>Saber como citar o <code>R</code>, pacotes e conjuntos de dados em publicações.</p></li>
</ul>
<p>Agora iremos ver algumas funções úteis:</p>
<ul>
<li>Ajuda com função específica:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>?lm <span class="co"># atalho                  </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="st">"lm"</span>) <span class="co">#abre a documentação da função</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="at">package =</span> <span class="st">"stats"</span>) <span class="co"># índice de um pacote</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Buscar por tema (se você não sabe o nome exato):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>??<span class="st">"linear model"</span>        <span class="co"># busca por tópicos</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help.search</span>(<span class="st">"normal"</span>)   <span class="co"># alternativa</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">apropos</span>(<span class="st">"plot"</span>)         <span class="co"># lista objetos cujo nome contém "plot"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Ver argumentos e formas de chamada</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(lm)  <span class="co"># nomes dos argumentos (se aplicável)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">formals</span>(lm) <span class="co"># valores-padrão dos argumentos</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Exemplos, retorno e estrutura</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">example</span>(lm) <span class="co"># roda os exemplos da ajuda</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(m)                  <span class="co"># inspeciona o objeto retornado</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="st">"predict"</span>)      <span class="co"># métodos disponíveis para um genérico</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Vignettes (tutoriais)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vignette</span>()  <span class="co"># lista geral</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">vignette</span>(<span class="at">package =</span> <span class="st">"ggplot2"</span>) <span class="co"># vignettes de um pacote</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">browseVignettes</span>(<span class="at">package =</span> <span class="st">"dplyr"</span>)  <span class="co"># abre no navegador</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Como citar R/pacotes/dados</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>()  <span class="co"># como citar o R</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite R in publications use:

  R Core Team (2025). _R: A Language and Environment for Statistical
  Computing_. R Foundation for Statistical Computing, Vienna, Austria.
  &lt;https://www.R-project.org/&gt;.

Uma entrada BibTeX para usuários(as) de LaTeX é

  @Manual{,
    title = {R: A Language and Environment for Statistical Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2025},
    url = {https://www.R-project.org/},
  }

We have invested a lot of time and effort in creating R, please cite it
when using it for data analysis. See also 'citation("pkgname")' for
citing R packages.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"ggplot2"</span>)   <span class="co"># como citar um pacote</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite ggplot2 in publications, please use

  H. Wickham. ggplot2: Elegant Graphics for Data Analysis.
  Springer-Verlag New York, 2016.

Uma entrada BibTeX para usuários(as) de LaTeX é

  @Book{,
    author = {Hadley Wickham},
    title = {ggplot2: Elegant Graphics for Data Analysis},
    publisher = {Springer-Verlag New York},
    year = {2016},
    isbn = {978-3-319-24277-4},
    url = {https://ggplot2.tidyverse.org},
  }</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toBibtex</span>(<span class="fu">citation</span>(<span class="st">"ggplot2"</span>))  <span class="co"># em BibTeX </span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>@Book{,
  author = {Hadley Wickham},
  title = {ggplot2: Elegant Graphics for Data Analysis},
  publisher = {Springer-Verlag New York},
  year = {2016},
  isbn = {978-3-319-24277-4},
  url = {https://ggplot2.tidyverse.org},
}</code></pre>
</div>
</div>
<ul>
<li>Conjuntos de dados</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>() <span class="co"># abre uma lista com os datasets disponíveis</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ?mtcars   # ajuda de um dataset específico</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Console vs.&nbsp;editor: Você pode digitar comandos diretamente no console ou escrever um script no editor e então executá-lo. Em materiais didáticos, distinguimos os dois formatos para evitar confusão.</p>
<ol type="1">
<li>Código mostrado com prompt <code>(R&gt;)</code> = digitado no console</li>
</ol>
<ul>
<li>Em livros/notas, comandos de console costumam aparecer com o prompt na frente. Exemplo (divisão de 14 por 6):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>R<span class="sc">&gt;</span> <span class="fu">options</span>(<span class="at">prompt =</span> <span class="st">"R&gt; "</span>, <span class="at">continue =</span> <span class="st">"+ "</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>R<span class="sc">&gt;</span> <span class="dv">14</span><span class="sc">/</span><span class="dv">6</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Ao copiar para o <code>R</code>, remova o <code>R&gt;</code>, o console já mostra o seu próprio prompt.</li>
</ul>
<ol start="2" type="1">
<li>Código pensado para script (sem prompt)</li>
</ol>
<ul>
<li>Quando o texto disser “escreva no editor e depois execute”, o código aparece sem <code>R&gt;</code>. Exemplo (laço simples):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (myitem <span class="cf">in</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>) {</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"--INÍCIO DO BLOCO--</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"o item atual é"</span>, myitem, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"--FIM DO BLOCO--</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>--INÍCIO DO BLOCO--
o item atual é 5 
--FIM DO BLOCO--

--INÍCIO DO BLOCO--
o item atual é 6 
--FIM DO BLOCO--

--INÍCIO DO BLOCO--
o item atual é 7 
--FIM DO BLOCO--</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Dica de estilo:</strong> chaves na mesma linha do for, quebra de linha para o corpo e indentação consistente.</p>
</div>
</div>
<ol start="3" type="1">
<li>Linhas longas: uma linha só ou “quebradas”</li>
</ol>
<ul>
<li><p>Chamadas extensas podem ficar em uma linha ou ser quebradas em pontos naturais (geralmente após vírgulas ou antes de argumentos nomeados).</p></li>
<li><p>Ao quebrar, alinhe com o parêntese de abertura ou indente um nível.</p></li>
</ul>
<p>Uma linha:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>ordfac.vec <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Small"</span>,<span class="st">"Large"</span>,<span class="st">"Large"</span>,<span class="st">"Regular"</span>,<span class="st">"Small"</span>),</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Small"</span>,<span class="st">"Regular"</span>,<span class="st">"Large"</span>),</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Quebrada (equivalente, apenas formatação):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>ordfac.vec2 <span class="ot">&lt;-</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">factor</span>(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">x       =</span> <span class="fu">c</span>(<span class="st">"Small"</span>,<span class="st">"Large"</span>,<span class="st">"Large"</span>,<span class="st">"Regular"</span>,<span class="st">"Small"</span>),</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels  =</span> <span class="fu">c</span>(<span class="st">"Small"</span>,<span class="st">"Regular"</span>,<span class="st">"Large"</span>),</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ordered =</span> <span class="cn">TRUE</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(ordfac.vec, ordfac.vec2)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="números-aritmética-atribuição-e-vetores" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="números-aritmética-atribuição-e-vetores"><span class="header-section-number">2.3</span> Números, Aritmética, Atribuição e Vetores</h2>
<ol type="1">
<li>Números (<em>numerics</em>)</li>
</ol>
<p>Em <code>R</code>, o tipo numérico padrão é <strong>double</strong> (ponto flutuante). Você também pode ter <strong>inteiros</strong> (sufixo <code>L</code>) e <strong>complexos</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">1</span>)      <span class="co"># "double"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">1</span>L)     <span class="co"># "integer"</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">1</span><span class="sc">+</span><span class="dv">2</span>i)   <span class="co"># "complex</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "complex"</code></pre>
</div>
</div>
<ul>
<li>Valores especiais:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span>  <span class="co"># Inf</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span> <span class="co"># -Inf</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -Inf</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span><span class="sc">/</span><span class="dv">0</span>  <span class="co"># NaN</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.finite</span>(<span class="fu">c</span>(<span class="cn">Inf</span>, <span class="fl">3.14</span>)) <span class="co"># checa finitude</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Precisão numérica: comparações com <code>==</code> podem falhar por arredondamento binário. Prefira <code>all.equal(x, y)</code>.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Exemplo clássico</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">0.1</span> <span class="sc">+</span> <span class="fl">0.2</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fl">0.3</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> y                       <span class="co"># pode dar FALSE</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(x, y)              <span class="co"># compara "bit a bit": quase sempre FALSE aqui</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver a diferença real (use mais dígitos)</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>old <span class="ot">&lt;-</span> <span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">17</span>)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>x; y; x <span class="sc">-</span> y                  <span class="co"># diferença minúscula de arredondamento binário</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.30000000000000004</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.29999999999999999</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.5511151231257827e-17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(old)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparação com tolerância</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>x;y</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(x, y)              <span class="co"># Se “quase iguais”, retorna TRUE. Se diferem, retorna uma string explicando a diferença (ex.: "Mean relative difference: 1.2e-08").</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isTRUE</span>(<span class="fu">all.equal</span>(x, y))      <span class="co"># retorna um lógico (TRUE/FALSE)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Outros casos que sofrem com ponto flutuante</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(pi)                      <span class="co"># ~ 1.224646799e-16 (não é 0 exato)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.224647e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(pi) <span class="sc">==</span> <span class="dv">0</span>                 <span class="co"># FALSE</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">sin</span>(pi), <span class="dv">0</span>)        <span class="co"># TRUE</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Ajustando a tolerância manualmente (quando precisar ser mais/menos rígido)</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(x, y, <span class="at">tolerance =</span> <span class="fl">1e-12</span>)  <span class="co"># ainda TRUE</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(x, y, <span class="at">tolerance =</span> <span class="fl">1e-20</span>)  <span class="co"># agora acusa diferença</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mean relative difference: 1.850372e-16"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Estratégia base sem all.equal: comparar o |erro| com um limite</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>((<span class="fu">sqrt</span>(<span class="dv">2</span>))<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> <span class="dv">2</span>) <span class="sc">&lt;</span> <span class="fl">1e-12</span> <span class="co"># TRUE (aceita "igualdade" numérica com folga)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Aritmética</li>
</ol>
<p>Operadores básicos: <code>+ - * / ^</code> e, ainda, divisão inteira <code>%/%</code> e módulo <code>%%</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span><span class="sc">/</span><span class="dv">6</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.333333</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="sc">%/%</span> <span class="dv">6</span> <span class="co"># quociente inteiro</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="sc">%%</span> <span class="dv">6</span> <span class="co"># resto</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span><span class="dv">3</span>  <span class="co"># potência</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<ul>
<li>Precedência: <code>^</code> → <code>* / %/% %%</code> → <code>+ -</code>. <strong>Use parênteses para deixar claro!</strong></li>
</ul>
<ol start="3" type="1">
<li>Atribuição</li>
</ol>
<p>O padrão recomendado é <code>&lt;-</code>. <code>=</code> também atribui, mas use-o preferencialmente para argumentos de função. <code>-&gt;</code> é atribuição para a direita. <code>&lt;&lt;-</code> afeta o ambiente pai (use com parcimônia).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> <span class="dv">5</span>   <span class="co"># ok, mas prefira &lt;- fora de chamadas de função</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>z <span class="ot">-&gt;</span> resultado  <span class="co"># atribuição para a direita (menos comum)</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>resultado</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exemplo de &lt;&lt;- (evite, pode dificultar depuração)</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>contador <span class="ot">&lt;-</span> <span class="fu">local</span>({</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>() { n <span class="ot">&lt;&lt;-</span> n <span class="sc">+</span> <span class="dv">1</span>; n }</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="fu">contador</span>(); <span class="fu">contador</span>(); <span class="fu">contador</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Aviso
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Boas práticas:</strong> Evite <code>&lt;&lt;-</code> sempre que possível; prefira retornar valores e trabalhar com escopos explícitos.</p>
</div>
</div>
<ol start="4" type="1">
<li>Vetores (atômicos)</li>
</ol>
<p>Vetores são coleções unidimensionais do mesmo tipo: lógico, inteiro, double, caractere, complexo ou raw.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(v); <span class="fu">typeof</span>(v)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="dv">2</span>)      <span class="co"># sequência</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>                    <span class="co"># atalho</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">3</span>, <span class="at">times =</span> <span class="dv">4</span>)      <span class="co"># repetição</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 3 3 3</code></pre>
</div>
</div>
<ul>
<li><em>Coerção automática:</em> ao misturar tipos, <code>R</code> promove para um tipo comum.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">TRUE</span>, <span class="st">"a"</span>) <span class="co"># tudo vira character</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"    "TRUE" "a"   </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Aviso
</div>
</div>
<div class="callout-body-container callout-body">
<p>Quando você faz <code>c(1, TRUE, "a")</code>, o <code>R</code> precisa escolher um tipo comum para todos os elementos. A regra de coerção (promoção de tipos) segue, a grosso modo:</p>
<p><code>logical</code> ⟶ <code>integer</code> ⟶ <code>double</code> ⟶ <code>complex</code> ⟶ <code>character</code></p>
</div>
</div>
<ul>
<li>Indexação e filtragem:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>]             <span class="co"># posição</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]            <span class="co"># tudo, exceto o 1º</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20 30 40 50</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">25</span>]        <span class="co"># filtragem lógica</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30 40 50</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">&gt;</span> <span class="dv">25</span>)    <span class="co"># posições TRUE</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>x[<span class="st">"c"</span>]</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> c 
30 </code></pre>
</div>
</div>
<p>4.1. Vetorização e reciclagem</p>
<p>A maioria das operações é vetorizada (aplica-se elemento a elemento). Quando os comprimentos diferem, <code>R</code> tenta reciclar o menor vetor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> b   <span class="co"># soma escalar-vetor (b é reciclado)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11 12 13 14 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="co"># reciclagem com aviso (5 não é múltiplo de 2)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in a + c(1, 2): comprimento do objeto maior não é múltiplo do
comprimento do objeto menor</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 4 6 6</code></pre>
</div>
</div>
<p>4.2. Nomes × Objetos e copy-on-modify</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>y[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">99</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>x  <span class="co"># permanece 1 2 3</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>y  <span class="co"># 99 2 3</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 99  2  3</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Aviso
</div>
</div>
<div class="callout-body-container callout-body">
<p>Exceção: ambientes e estruturas por referência (p.ex., R6) não seguem copy-on-modify.</p>
</div>
</div>
<section id="exercícios" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercícios">Exercícios</h3>
<ol type="1">
<li><p>Crie um vetor com os números de <code>5</code> a <code>15</code> e calcule a média.</p></li>
<li><p>Use <code>seq()</code> para gerar <code>0, 0.5, 1,..., 5</code>.</p></li>
<li><p>Mostre com código a diferença entre <code>%/%</code> e <code>%%</code> usando 14 e 6.</p></li>
<li><p>Atribua <code>x &lt;- 1:4</code> e some com o vetor <code>c(10, 20)</code>. O que acontece?</p></li>
<li><p>Verifique o tipo de <code>1</code>, <code>1L</code> e <code>1+0i</code>. Explique a diferença entre tipo (typeof) e classe (class).</p></li>
<li><p>Crie e armazene uma sequência de valores de <code>5 a −11</code>, progredindo em <code>passos de 0.3</code>.</p></li>
<li><p>Reescreva o objeto de (6) com a mesma sequência invertida.</p></li>
<li><p>Repita o vetor <code>c(-1, 3, -5, 7, -9)</code> duas vezes, com cada elemento repetido 10 vezes. Apresente os dados ordenados do maior para o menor.</p></li>
<li><p>Crie e armazene um vetor contendo, em qualquer ordem:</p></li>
</ol>
<ol type="a">
<li><p>inteiros de <code>6</code> a <code>12</code> (inclusive);</p></li>
<li><p><code>5.3</code> repetido 3 vezes;</p></li>
<li><p>o número <code>−3</code>;</p></li>
<li><p>Uma sequência de nove valores começando em <code>102</code> e terminando no número que é o comprimento total do vetor criado em (8).</p></li>
</ol>
<ol start="10" type="1">
<li>Confirme que o comprimento do vetor criado em (9) é 20.</li>
</ol>
<!-- ## Estrutura Lógicas {.unnumbered} -->
<!-- ## Estruturas de Controle {.unnumbered} -->
<!-- ## Funções {.unnumbered} -->
<!-- ## Distribuições de Probabilidade {.unnumbered} -->
</section>
</section>
<section id="matrizes" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="matrizes"><span class="header-section-number">2.4</span> Matrizes</h2>
<p>A matriz é uma construção matemática importante e é essencial para muitos métodos estatísticos. Normalmente descreve-se uma matriz <span class="math inline">\(A\)</span> como uma matriz <span class="math inline">\(m \times n\)</span>; isto é, <span class="math inline">\(A\)</span> terá exatamente <span class="math inline">\(m\)</span> linhas e <span class="math inline">\(n\)</span> colunas. Isso significa que <span class="math inline">\(A\)</span> terá um total de <span class="math inline">\(mn\)</span> entradas, com cada entrada a <span class="math inline">\(i, j\)</span> ocupando uma posição única dada por sua linha específica <span class="math inline">\((i = 1, 2,\dots, m)\)</span> e coluna <span class="math inline">\((j = 1, 2,\dots, n)\)</span>.</p>
<p>Para criar uma matriz no <code>R</code>, use o comando, apropriadamente chamado, <code>matrix</code>, fornecendo as entradas da matriz ao argumento <code>data</code> como um vetor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">data =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">893</span>, <span class="fl">0.17</span>),</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">nrow =</span> <span class="dv">2</span>, <span class="co">#linha</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ncol =</span> <span class="dv">2</span>  <span class="co">#colunas</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]   [,2]
[1,]   -3 893.00
[2,]    2   0.17</code></pre>
</div>
</div>
<p>É importante estar ciente de como o <code>R</code> preenche a matriz usando as entradas de <code>data</code>. Observando o exemplo anterior, você pode ver que a matriz <span class="math inline">\(A\)</span> foi preenchida coluna por coluna ao ler as entradas de dados da esquerda para a direita. Você pode controlar como o <code>R</code> preenche os dados usando o argumento <code>byrow</code>, como mostrado nos exemplos a seguir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
</div>
<p>Qual a diferença na construção da matriz ao usar <code>byrow = TRUE</code>?</p>
<p>Também é possível construir matrizes usando os comandos <code>cbind</code> e <code>rbind</code>. Veja os exemplos abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>), <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>), <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6</code></pre>
</div>
</div>
<p>Para saber a dimensão, número de linhas e colunas de uma matriz você pode usar os seguintes comandos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(A); <span class="fu">nrow</span>(A); <span class="fu">ncol</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Considere a seguinte matriz:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">4.5</span>, <span class="fl">55.3</span>, <span class="dv">91</span>, <span class="fl">0.1</span>, <span class="fl">105.5</span>, <span class="sc">-</span><span class="fl">4.2</span>, <span class="fl">8.2</span>, <span class="fl">27.9</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]  [,2] [,3]
[1,]  0.3  91.0 -4.2
[2,]  4.5   0.1  8.2
[3,] 55.3 105.5 27.9</code></pre>
</div>
</div>
<p>Para dizer ao <code>R</code> para “olhar para a terceira linha de <span class="math inline">\(A\)</span> e me dar o elemento da segunda coluna”, você executa o seguinte:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>A[<span class="dv">3</span>, <span class="dv">2</span>]</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 105.5</code></pre>
</div>
</div>
<p>Como esperado, você recebe o elemento na posição <span class="math inline">\([3,2]\)</span>.</p>
<p>Você também pode identificar os valores ao longo da diagonal de uma matriz quadrada (isto é, uma matriz com igual número de linhas e colunas) usando o comando <code>diag</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0.3  0.1 27.9</code></pre>
</div>
</div>
<section id="exercícios-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercícios-1">Exercícios</h3>
<p><strong>(a)</strong> Construa e armazene uma matriz <span class="math inline">\(4 \times 2\)</span> preenchida <strong>por linhas</strong> com os valores: 4.3, 3.1, 8.2, 8.2, 3.2, 0.9, 1.6 e 6.5 (nessa ordem).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">4.3</span>, <span class="fl">3.1</span>, <span class="fl">8.2</span>, <span class="fl">8.2</span>, <span class="fl">3.2</span>, <span class="fl">0.9</span>, <span class="fl">1.6</span>, <span class="fl">6.5</span>), <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>); A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]  4.3  3.1
[2,]  8.2  8.2
[3,]  3.2  0.9
[4,]  1.6  6.5</code></pre>
</div>
</div>
<p><strong>(b)</strong> Confirme que as dimensões da matriz do item (a) são <span class="math inline">\(3 \times 2\)</span> se você remover qualquer uma das linhas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>matrix_test_32 <span class="ot">&lt;-</span> <span class="cf">function</span>(data){</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>v_saida <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data)){</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>v_saida[i] <span class="ot">&lt;-</span> <span class="fu">all</span>(<span class="fu">dim</span>(data[<span class="sc">-</span>i, , <span class="at">drop =</span> <span class="cn">FALSE</span>]) <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>))       </span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>}       </span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>( <span class="st">"A matriz é 3x2? %s"</span>, <span class="fu">ifelse</span>(<span class="fu">all</span>(v_saida) <span class="sc">==</span> <span class="cn">TRUE</span>, <span class="st">"Sim"</span>, <span class="st">"Não"</span> ) )   </span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-12"><a href="#cb155-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-13"><a href="#cb155-13" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix_test_32</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A matriz é 3x2? Sim"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="at">ncol =</span> <span class="dv">2</span>); B</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    3
[2,]    2    4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix_test_32</span>(B)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A matriz é 3x2? Não"</code></pre>
</div>
</div>
<p><strong>(c)</strong> Sobrescreva a <strong>segunda coluna</strong> da matriz do item (a) com essa mesma coluna <strong>ordenada do menor para o maior</strong>.</p>
<p><strong>(d)</strong> O que o <code>R</code> retorna se você excluir a <strong>quarta linha</strong> e a <strong>primeira coluna</strong> do item (c)? Use <code>matrix</code> para garantir que o resultado seja uma <strong>matriz de uma única coluna</strong>, e não um vetor.</p>
<p><strong>(e)</strong> Armazene os <strong>quatro elementos inferiores</strong> do item (c) como uma nova matriz <span class="math inline">\(2 \times 2\)</span>.</p>
<p><strong>(f)</strong> Sobrescreva, <strong>nesta ordem</strong>, os elementos do item (c) nas posições <span class="math inline">\((4, 2), (1, 2), (4, 1)\)</span> e <span class="math inline">\((1, 1)\)</span> com <span class="math inline">\(-\tfrac{1}{2}\)</span> dos dois valores na <strong>diagonal do item (e)</strong>.</p>
</section>
</section>
<section id="operações-com-matrizes" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="operações-com-matrizes"><span class="header-section-number">2.5</span> Operações com matrizes</h2>
<p>Em <code>R</code>, a transposta de uma matriz se obtém com <code>t()</code>, ela troca linhas por colunas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>),<span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    2    6
[2,]    5    1
[3,]    2    4</code></pre>
</div>
</div>
<p>Você pode criar uma matriz identidade de qualquer dimensão usando a função <code>matrix</code>, mas há uma forma mais rápida usando <code>diag</code>. Antes, usei <code>diag</code> em uma matriz existente para extrair ou sobrescrever seus elementos da diagonal. Você também pode usá-la assim:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>I4 <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">4</span>) <span class="co"># 4x4</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>I4</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    0    0    0
[2,]    0    1    0    0
[3,]    0    0    1    0
[4,]    0    0    0    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>I5 <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">5</span>) <span class="co">#forma explicita</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>I5</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    0    0    0    0
[2,]    0    1    0    0    0
[3,]    0    0    1    0    0
[4,]    0    0    0    1    0
[5,]    0    0    0    0    1</code></pre>
</div>
</div>
<p>O <code>R</code> realizará essa multiplicação de maneira elemento a elemento, como você poderia esperar. A multiplicação escalar de uma matriz é realizada usando o operador aritmético padrão <code>*</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>) , <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>a<span class="sc">*</span>A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    4   10    4
[2,]   12    2    8</code></pre>
</div>
</div>
<p>Você pode somar ou subtrair quaisquer duas matrizes de mesmo tamanho usando os símbolos padrão <code>+</code> e <code>-</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    2    6
[2,]    5    1
[3,]    2    4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span>  <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>), <span class="fu">c</span>(<span class="fl">8.1</span>,<span class="fl">8.2</span>,<span class="sc">-</span><span class="fl">9.8</span>))</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>B</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]   -2  8.1
[2,]    3  8.2
[3,]    6 -9.8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>A <span class="sc">-</span> B</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    4 -2.1
[2,]    2 -7.2
[3,]   -4 13.8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>A <span class="sc">+</span> B </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    0 14.1
[2,]    8  9.2
[3,]    8 -5.8</code></pre>
</div>
</div>
<p>Ao contrário da adição, subtração e multiplicação escalar, a multiplicação de matrizes não é um cálculo elemento a elemento, e o operador padrão <code>*</code> não pode ser usado. Em vez disso, você deve usar o operador de produto matricial do <code>R</code>, escrito com símbolos de porcentagem como <code>%*%</code>. Antes de tentar esse operador, vamos primeiro armazenar as duas matrizes de exemplo e verificar se o número de colunas na primeira matriz corresponde ao número de linhas na segunda matriz usando <code>dim</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span>  <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>), <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">5</span>))</span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(B)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 2</code></pre>
</div>
</div>
<p>Isso confirma que as duas matrizes são compatíveis para a multiplicação, então você pode prosseguir.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>A<span class="sc">%*%</span>B</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    3    9
[2,]   21    3</code></pre>
</div>
</div>
<p>Você pode mostrar que a multiplicação de matrizes é <strong>não comutativa</strong> usando as mesmas duas matrizes. Inverter a ordem da multiplicação produz um resultado completamente diferente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>B<span class="sc">%*%</span>A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]  -12   12   -6
[2,]    4   -4    2
[3,]   32   10   22</code></pre>
</div>
</div>
<p>Matrizes que não são invertíveis são chamadas de singulares. Inverter uma matriz é frequentemente necessário ao resolver sistemas de equações e tem implicações práticas importantes. Há vários métodos para inversão, e o custo computacional cresce muito à medida que o tamanho da matriz aumenta. Não entraremos em detalhes aqui; para discussões formais, veja Golub e Van Loan (1989). Por ora, veja a função <code>solve</code> do <code>R</code> como uma opção para inverter matrizes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    3    1
[2,]    4    2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1 -0.5
[2,]   -2  1.5</code></pre>
</div>
</div>
<p>Você também pode verificar que o produto dessas duas matrizes (usando as regras de multiplicação de matrizes) resulta na matriz identidade <span class="math inline">\(2 \times 2\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> <span class="fu">solve</span>(A)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    0
[2,]    0    1</code></pre>
</div>
</div>
<section id="exercícios-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercícios-2">Exercícios</h3>
<p><strong>(a)</strong> Calcule</p>
<p><span class="math display">\[
\frac{2}{7}\left(
\begin{bmatrix}1 &amp; 2\\2 &amp; 4 \\ 7 &amp; 6\end{bmatrix}
-
\begin{bmatrix}10 &amp; 20\\30 &amp; 40 \\ 50 &amp; 60\end{bmatrix}
\right).
\]</span></p>
<p><strong>(b)</strong> Armazene as duas matrizes abaixo:</p>
<p><span class="math display">\[
A=\begin{bmatrix}1\\2\\7\end{bmatrix},
\quad
B=\begin{bmatrix}3\\4\\8\end{bmatrix}.
\]</span></p>
<p>Quais das multiplicações a seguir são possíveis? Para as que forem, calcule o resultado.</p>
<ol type="i">
<li><p><span class="math inline">\(A \cdot B\)</span>;</p></li>
<li><p><span class="math inline">\(A^{\top} \cdot B\)</span>;</p></li>
<li><p><span class="math inline">\(B^{\top} \cdot (A \cdot A^{\top})\)</span>;</p></li>
<li><p><span class="math inline">\((A \cdot A^{\top}) \cdot B^{\top}\)</span>;</p></li>
<li><p><span class="math inline">\(\big[(B \cdot B^{\top}) + (A \cdot A^{\top}) - 100\,I_{3}\big]^{-1}\)</span>.</p></li>
</ol>
<p><strong>(c)</strong> Para</p>
<p><span class="math display">\[
A = \begin{bmatrix}
2&amp;0&amp;0&amp;0\\
0&amp;3&amp;0&amp;0\\
0&amp;0&amp;5&amp;0\\
0&amp;0&amp;0&amp;-1
\end{bmatrix},
\]</span></p>
<p>confirme que <span class="math inline">\(A^{-1}\cdot A - I_{4}\)</span> fornece uma matriz <span class="math inline">\(4\times 4\)</span> de zeros.</p>
</section>
</section>
<section id="laços-e-repetições" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="laços-e-repetições"><span class="header-section-number">2.6</span> Laços e repetições</h2>
<p>O laço clássico, ao estilo Fortran, está disponível no <code>R</code>. A sintaxe é um pouco diferente, mas a ideia é idêntica: você pede que um índice, <span class="math inline">\(i\)</span>, assuma uma sequência de valores, e que uma ou mais linhas de comandos sejam executadas tantas vezes quantos forem os valores distintos de <span class="math inline">\(i\)</span>. A seguir, um laço executado cinco vezes com <span class="math inline">\(i\)</span> de <span class="math inline">\(1\)</span> a <span class="math inline">\(5\)</span>; imprimimos o quadrado de cada valor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="fu">print</span>(i<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 4
[1] 9
[1] 16
[1] 25</code></pre>
</div>
</div>
<p>Para várias linhas de código, você usa chaves <code>{}</code> para incluir o material sobre o qual o laço deve atuar. Note que a “quebra de linha” (pressionar a tecla Enter) ao final de cada comando é uma parte essencial da estrutura (você pode substituir as quebras de linha por ponto e vírgula, se preferir, mas a clareza melhora se cada comando for colocado em uma linha separada).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> k <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> j <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb193-4"><a href="#cb193-4" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> k <span class="sc">+</span> i<span class="sc">*</span>j</span>
<span id="cb193-5"><a href="#cb193-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(i <span class="sc">+</span> j <span class="sc">+</span> k)</span>
<span id="cb193-6"><a href="#cb193-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3
[1] 9
[1] 20
[1] 38
[1] 65</code></pre>
</div>
</div>
<p>O fatorial de um número inteiro <span class="math inline">\(x\)</span> (escrito <span class="math inline">\(x!\)</span>) é o produto de todos os inteiros positivos de <span class="math inline">\(1\)</span> até <span class="math inline">\(x\)</span>. Por definição:</p>
<p><span class="math display">\[x! = x \times (x-1) \times (x-2) \times (x-3)\dots \times 2 \times 1.\]</span> Por exemplo, <span class="math inline">\(4! = 4\times 3 \times 2 \times 1 = 24\)</span>. Aqui está a função:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>fac1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&lt;</span> <span class="dv">2</span>) <span class="fu">return</span>(<span class="dv">1</span>)</span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>x){</span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a>    f <span class="ot">&lt;-</span> f<span class="sc">*</span>i</span>
<span id="cb195-6"><a href="#cb195-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb195-7"><a href="#cb195-7" aria-hidden="true" tabindex="-1"></a>f</span>
<span id="cb195-8"><a href="#cb195-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Parece complicado para uma tarefa simples. Mas vamos testar de 0 a 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>, fac1)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1   1   2   6  24 120</code></pre>
</div>
</div>
<p>Existem outras duas funções de laço no <code>R</code>: <code>repeat</code> e <code>while</code>. Vamos demonstrar seu uso para fins de ilustração, mas podemos fazer bem melhor ao escrever uma função compacta para calcular fatoriais (veja abaixo). Primeiro, a função <code>while</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>fac2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">&lt;-</span> x</span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(t <span class="sc">&gt;</span> <span class="dv">1</span>){</span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a>    f <span class="ot">&lt;-</span> f<span class="sc">*</span>t</span>
<span id="cb198-6"><a href="#cb198-6" aria-hidden="true" tabindex="-1"></a>    t <span class="ot">&lt;-</span> t <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb198-7"><a href="#cb198-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb198-8"><a href="#cb198-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(f)</span>
<span id="cb198-9"><a href="#cb198-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Agora iremos testar a função para os números inteiros de 0 a 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>, fac2)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1   1   2   6  24 120</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
O ponto central
</div>
</div>
<div class="callout-body-container callout-body">
<p>o <code>while</code> sozinho não gera a sequência; você precisa configurar e atualizar manualmente uma variável de controle (aqui <code>t</code>). Isso torna o <code>while</code> menos compacto do que <code>for</code>, mas útil quando você não sabe de antemão quantas iterações serão necessárias.</p>
</div>
</div>
<p>Por fim, vamos mostrar o uso da função <code>repeat</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>fac3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a>  t <span class="ot">&lt;-</span> x</span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">repeat</span>{</span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(t<span class="sc">&lt;</span><span class="dv">2</span>) <span class="cf">break</span></span>
<span id="cb201-6"><a href="#cb201-6" aria-hidden="true" tabindex="-1"></a>    f <span class="ot">&lt;-</span> f<span class="sc">*</span>t</span>
<span id="cb201-7"><a href="#cb201-7" aria-hidden="true" tabindex="-1"></a>    t <span class="ot">&lt;-</span> t <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb201-8"><a href="#cb201-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb201-9"><a href="#cb201-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(f)</span>
<span id="cb201-10"><a href="#cb201-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O <code>repeat</code> em <code>R</code> não tem um fim explícito, ele vai rodar para sempre a menos que você coloque uma condição de saída que use <code>break</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>,fac3)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1   1   2   6  24 120</code></pre>
</div>
</div>
<p>É uma boa prática de programação em <code>R</code> evitar o uso de laços sempre que possível. O uso de funções vetorizadas torna isso particularmente simples em muitos casos. Suponha que você queira substituir todos os valores negativos de um array por zeros. Você poderia ter escrito algo assim:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(y)){</span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(y[i] <span class="sc">&lt;</span> <span class="dv">0</span>) y[i] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>No entanto, você pode simplesmente fazer assim:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>y[y<span class="sc">&lt;</span><span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Às vezes você quer fazer uma coisa se uma condição for verdadeira e outra diferente se a condição for falsa (em vez de não fazer nada, como no exemplo anterior). A função <code>ifelse</code> permite fazer isso em vetores inteiros sem precisar usar laços com <code>for</code>. Por exemplo, podemos querer substituir qualquer valor negativo de <code>y</code> por <code>–1</code> e qualquer valor positivo ou zero por <code>+1</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">7</span>)</span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(y <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1 -1  1  1  1</code></pre>
</div>
</div>
</section>
<section id="escrevendo-funções-no-r" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="escrevendo-funções-no-r"><span class="header-section-number">2.7</span> Escrevendo funções no <code>R</code></h2>
<p>Normalmente você escreve funções em <code>R</code> para realizar operações que exigem duas ou mais linhas de código para serem executadas, e que você não quer digitar várias vezes. Podemos querer escrever funções simples para calcular medidas de tendência central, calcular fatoriais e coisas do tipo.</p>
<p>Funções em <code>R</code> são objetos que realizam operações sobre argumentos que lhes são fornecidos e retornam um ou mais valores. A sintaxe para escrever uma função é</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(lista_de_argumentos){</span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># corpo da função</span></span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># instruções</span></span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(valor)</span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O primeiro componente da declaração de função é a palavra-chave <code>function</code>, que indica ao <code>R</code> que você quer criar uma função.</p>
<p>Uma <strong>lista de argumentos</strong> é uma lista separada por vírgulas de <strong>argumentos formais</strong>. Um argumento formal pode ser:</p>
<ul>
<li><p>um símbolo (isto é, um nome de variável como <code>x</code> ou <code>y</code>),</p></li>
<li><p>uma declaração do tipo <code>símbolo = expressão</code> (por exemplo, <code>pch = 16</code>),</p></li>
<li><p>ou o argumento especial <code>...</code> (três pontos), que permite passar múltiplos argumentos adicionais.</p></li>
</ul>
<p>O corpo pode ser qualquer expressão válida em <code>R</code> ou um conjunto de expressões em uma ou mais linhas. Em geral, o corpo é um grupo de expressões dentro de chaves <code>{ }</code>, com cada expressão em uma linha separada (se o corpo couber em uma linha, as chaves não são necessárias).</p>
<p>Funções normalmente são atribuídas a símbolos (variáveis), mas isso não é obrigatório. Esse conceito só começa a fazer sentido depois de ver vários exemplos em funcionamento.</p>
<section id="média-aritmética" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="média-aritmética"><span class="header-section-number">2.7.1</span> Média Aritmética</h3>
<p>A média é a soma dos valores <span class="math inline">\(y_i\)</span> dividida pela quantidade de valores <span class="math inline">\(n\)</span> (somando ao longo do número de elementos do vetor <span class="math inline">\(y\)</span>). Em <code>R</code>, <span class="math inline">\(n =\)</span><code>length(y)</code> e <span class="math inline">\(\sum y =\)</span><code>sum(y)</code>. Assim, uma função para calcular a média aritmética é:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>media_aritmetica <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">sum</span>(x)<span class="sc">/</span><span class="fu">length</span>(x)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos testar a função com dados em que sabemos de antemão qual deve ser o resultado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="fu">media_aritmetica</span>(y)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</section>
<section id="mediana" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="mediana"><span class="header-section-number">2.7.2</span> Mediana</h3>
<p>A mediana (ou 50º percentil) é o valor do meio dos valores ordenados de um vetor de números:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(y)[<span class="fu">ceiling</span>(<span class="fu">length</span>(y)<span class="sc">/</span><span class="dv">2</span>)]</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Há, é claro, um pequeno problema aqui, porque se o vetor contém um número par de números, então não existe valor do meio. A lógica aqui é que precisamos calcular a média aritmética dos dois valores de <code>y</code> em cada lado do meio. Surge agora a questão de como sabemos, em geral, se o vetor contém um número ímpar ou par de números, de modo que possamos decidir qual dos dois métodos usar. O truque aqui é usar o módulo 2. Agora temos todas as ferramentas de que precisamos para escrever uma função geral para calcular medianas. Vamos chamar a função de <code>mediana</code> e defini-la assim:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>mediana <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>  impar_par <span class="ot">&lt;-</span> <span class="fu">length</span>(x)<span class="sc">%%</span><span class="dv">2</span></span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(impar_par <span class="sc">==</span> <span class="dv">0</span>) (<span class="fu">sort</span>(x)[<span class="fu">length</span>(x)<span class="sc">/</span><span class="dv">2</span>] <span class="sc">+</span> <span class="fu">sort</span>(x)[<span class="dv">1</span> <span class="sc">+</span> <span class="fu">length</span>(x)<span class="sc">/</span><span class="dv">2</span>])<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="fu">sort</span>(x)[<span class="fu">ceiling</span>(<span class="fu">length</span>(x)<span class="sc">/</span><span class="dv">2</span>)]</span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos agora testar a função:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mediana</span>(y)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</section>
<section id="exercícios-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercícios-3">Exercícios</h3>
<ol type="1">
<li><p>Crie sua própria função que calcula a variância, o desvio-padrão e o coeficiente de variação.</p></li>
<li><p>Crie uma função para listar os elementos de uma série de Fibonacci (<span class="math inline">\(1, 1, 2, 3, 5, 8, \dots\)</span>).</p></li>
<li><p>Crie uma função para calcular fatoriais usando o comando <code>cumprod</code>.</p></li>
<li><p>Crie sua própria função para calcular a mediana.</p></li>
<li><p>Crie sua própria função para calcular a média.</p></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./introducao.html" class="pagination-link" aria-label="Introdução">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./intro.html" class="pagination-link" aria-label="Motivação">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Motivação</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>